<% include ./partials/head.ejs %>
<% include ./partials/header.ejs %>
<% include ./partials/navigation.ejs %>
<main class="main">
        <h1 class="main-title"><%= title %></h1>
    <form method="post" class="create-product">
        <fieldset>
                <% include ./partials/image-picker.ejs %>
        </fieldset>
        <fieldset>
            <label for="name">Navn</label>
            <input type="text" name="name" id="name" value="<%= (messages && messages.name) ? messages.name : "" %>">
            <span id="nameError" style="color: red;">
                <%= (messages && messages.nameError) ? messages.nameError : "" %>
            </span>
        </fieldset>
        <fieldset>
            <label for="itemNumber">Varenummer</label>
            <input type="number" name="itemNumber" id="itemNumber" value="<%= (messages && messages.itemNumber) ? messages.itemNumber : "" %>">
            <span id="itemNumberError" style="color: red;">
                <%= (messages && messages.itemNumberError) ? messages.itemNumberError : "" %>
            </span>
        </fieldset>
        <fieldset>
            <label for="description">description</label>
            <textarea name="description" id="description"><%= (messages && messages.description) ? messages.description : "" %></textarea>
            <span id="descriptionError" style="color: red;">
                <%= (messages && messages.descriptionError) ? messages.descriptionError : "" %>
            </span>
        </fieldset>
        <fieldset>
            <label for="price">price</label>
            <input type="number" name="price" id="price" value="<%= (messages && messages.price) ? messages.price : "" %>">DKK
            <span id="priceError" style="color: red;">
                <%= (messages && messages.priceError) ? messages.priceError : "" %>
            </span>
        </fieldset>
        <fieldset>
            <label for="year">year</label>
            <input type="number" name="year" id="year" value="<%= new Date().getFullYear();%>" min="1990" max="<%= new Date().getFullYear();%>">
            <span id="yearError" style="color: red;">
                <%= (messages && messages.yearError) ? messages.yearError : "" %>
            </span>
        </fieldset>
        <fieldset>
            <label for="category">category</label>
            <select name="category" id="category">
                <% categories.forEach(category => { %>
                    <option value="<%= category.id %>"><%= category.name %></option>
                <% }) %>
            </select>
        </fieldset>
        <button type="submit">Gem</button>
    </form>
</main>
<script src="/scripts/validator.js"></script>
<script>
    jsb.validationEmpty('.create-product', '#name', 'Udfyld venligst titel!', '#nameError');
    jsb.validationEmpty('.create-product', '#itemNumber', 'Udfyld venligst varenummer!', '#itemNumberError');
    jsb.validationEmpty('.create-product', '#description', 'Udfyld venligst beskrivelse!', '#descriptionError');
    jsb.validationEmpty('.create-product', '#price', 'Udfyld venligst pris!', '#priceError');
    jsb.validationEmpty('.create-product', '#year', 'Udfyld venligst Ã¥r!', '#yearError');
</script>
<% include ./partials/footer.ejs %>
<% include ./partials/after-footer.ejs %>